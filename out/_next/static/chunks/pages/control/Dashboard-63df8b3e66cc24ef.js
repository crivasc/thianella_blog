(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[35],{8282:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/control/Dashboard",function(){return t(6736)}])},9712:function(e,s,t){"use strict";t.d(s,{Z:function(){return _}});var a=t(5893),r=t(755),l=t(2640),i=t(2498),n=t(3838),o=t(9222),c=t(8911),d=t(1163),x=t(7294),u=t(9583),h=t(5675),m=t.n(h);let j=()=>(0,a.jsx)("div",{className:"logo",children:"Thianella"});var f=t(1664),p=t.n(f);let g=e=>{let{text:s,href:t,icon:r,active:l}=e;return(0,a.jsx)(p(),{href:t,className:"transition-all delay-5 hover:text-gray-500",children:(0,a.jsxs)("span",{className:"flex items-center justify-start gap-3 nav__item ".concat(r," ").concat(l?"active":""),children:[r," ",s]})})};var v=t(9352);let b=[{text:"Home",href:"/",icon:(0,a.jsx)(u.xng,{size:25})},{text:"Dashboard",href:"/control/Dashboard",icon:(0,a.jsx)(v.Ez2,{size:25})}],N=[{text:"Home",href:"/",icon:(0,a.jsx)(u.xng,{size:25})},{text:"Posts",href:"/Posts",icon:(0,a.jsx)(u.kpq,{size:25})}],y=()=>{let{toggleColorMode:e,colorMode:s}=(0,i.If)(),{isLoggedIn:t,user:h}=(0,l.Z)(),{push:f}=(0,d.useRouter)(),p=()=>{r.I.signOut(),f("/")},[v,y]=(0,x.useState)(null),[w,S]=(0,x.useState)(-1);return(0,a.jsx)("header",{className:"z-30",children:(0,a.jsxs)("nav",{className:"nav flex justify-between items-center p-1 border-b border-gray-300",children:[(0,a.jsx)(n.r,{href:"/",children:(0,a.jsx)("h1",{className:"logo",children:(0,a.jsx)(j,{})})}),(0,a.jsxs)("div",{onClick:()=>y(!v),className:"nav__menu-bar flex flex-col gap-2 cursor-pointer",children:[(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{})]}),(0,a.jsx)("div",{className:"".concat(v?"active bg-white text-xl":""," nav__menu-list"),children:t?b.map((e,s)=>(0,a.jsx)("div",{className:v&&"border-b border-gray-300 pl-4",onClick:()=>{S(s),y(!1)},children:(0,a.jsx)(g,{active:w===s,...e})},e.text)):N.map((e,s)=>(0,a.jsx)("div",{className:v&&"border-b border-gray-300 pl-4",onClick:()=>{S(s),y(!1)},children:(0,a.jsx)(g,{active:w===s,...e})},e.text))}),t&&(0,a.jsxs)("div",{className:"userData flex items-center justify-center gap-3",children:[(0,a.jsx)(o.z,{size:"sm",className:"w-auto",onClick:()=>e(),children:"light"==s?(0,a.jsx)(u.Mei,{}):(0,a.jsx)(u.TLr,{})}),"",(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)(m(),{src:h.photoURL,alt:h.displayName||h.providerData[0].displayName,width:40,height:40,className:"rounded-full mx-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.x,{color:"greem.500",fontSize:"md",children:h.displayName||h.providerData[0].displayName}),(0,a.jsx)(c.x,{color:"greem.500",fontSize:"xs",children:h.email})]})]}),(0,a.jsx)(n.r,{color:"green.500",decoration:"none",className:"text-center hover:text-red-400",onClick:()=>p(),children:(0,a.jsx)(u.d7k,{className:"mx-auto text-2xl"})})]})]})})},w=()=>(0,a.jsx)("div",{className:"h-10 border-t border-gray-300",children:"Footer"});var S=t(6979);function _(e){let{children:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col h-screen justify-between",children:[(0,a.jsx)(y,{}),(0,a.jsx)(S.W,{maxW:"7xl",className:"pt-4 flex-grow",children:s}),(0,a.jsx)(w,{})]})}},755:function(e,s,t){"use strict";t.d(s,{I:function(){return n},db:function(){return o}});var a=t(3977),r=t(1259),l=t(9828);let i=(0,a.ZF)({apiKey:"AIzaSyCrKueXxR-xk7KqaCP6WWwHlaD5lGJ9ASA",authDomain:"thianella-42f63.firebaseapp.com",databaseURL:"https://thianella-42f63-default-rtdb.firebaseio.com",projectId:"thianella-42f63",storageBucket:"thianella-42f63.appspot.com",messagingSenderId:"1029883663033",appId:"1:1029883663033:web:ecd443ed9250ad26488168"}),n=(0,r.v0)(i),o=(0,l.ad)(i)},2640:function(e,s,t){"use strict";var a=t(7294),r=t(755);let l=()=>{let[e,s]=(0,a.useState)(null),[t,l]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{r.I.onAuthStateChanged(e=>{l(!!e&&!!e.uid),s(e)})}),{user:e,isLoggedIn:t}};s.Z=l},6736:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return z}});var a={};t.r(a),t.d(a,{fb:function(){return f}});var r=t(5893),l=t(7294),i=t(7350),n=t(3100),o=t(7306),c=t(8129),d=t(1753),x=t(8691),u=t(9222),h=t(2640),m=t(755),j=t(9828);let f=async e=>{let{userId:s,titulo:t,descripcion:a,autor:r,categoria:l,letras:i}=e;try{await (0,j.ET)((0,j.hJ)(m.db,"posts"),{user:s,titulo:t,descripcion:a,autor:r,categoria:l,letras:i,createdAt:new Date().getTime()})}catch(e){}};t(3935);let p=()=>{let[e,s]=(0,l.useState)(""),[t,a]=(0,l.useState)(""),[m,j]=(0,l.useState)(),[p,g]=(0,l.useState)(""),[v,b]=(0,l.useState)(""),[N,y]=(0,l.useState)("pendiente"),[w,S]=(0,l.useState)(!1),_=(0,i.p)(),{isLoggedIn:C,user:k}=(0,h.Z)(),z=async()=>{if(!C){_({titulo:"Debe loguearse para crear una nota",status:"error",duration:9e3,isClosable:!0});return}S(!0);let r={titulo:e,descripcion:t,autor:k.displayName,categoria:p,letras:v,userId:k.uid};console.log(r),await f(r),S(!1),s(""),a(""),b(""),j(""),g(""),_({title:"nota creada",status:"success"})};return(0,r.jsxs)(n.xu,{w:"100%",margin:"0 auto",display:"block",mt:5,children:[(0,r.jsxs)(o.K,{spacing:4,direction:"row",children:[(0,r.jsxs)(n.xu,{p:5,w:"full",shadow:"md",borderWidth:"1px",children:[(0,r.jsx)(c.I,{placeholder:"Titulo",value:e,className:"mb-4",onChange:e=>s(e.target.value)}),(0,r.jsx)(d.g,{placeholder:"Descripcion",value:t,className:"mb-4",onChange:e=>a(e.target.value)}),(0,r.jsx)(c.I,{placeholder:k,className:"mb-4",disabled:!0}),(0,r.jsxs)(x.P,{value:p,className:"mb-4",onChange:e=>g(e.target.value),children:[(0,r.jsx)("option",{children:"Secci\xf3n"}),(0,r.jsx)("option",{value:"poemas",children:"Poemas"}),(0,r.jsx)("option",{value:"historia-corta",children:"Historia corta"}),(0,r.jsx)("option",{value:"devaneos",children:"Devaneos"})]})]}),(0,r.jsx)(n.xu,{p:5,w:"full",shadow:"md",borderWidth:"1px",children:(0,r.jsx)(d.g,{placeholder:"Historia",value:v,h:"96%",onChange:e=>b(e.target.value)})})]}),(0,r.jsx)(o.K,{className:"mt-4",children:(0,r.jsx)(u.z,{onClick:()=>z(),disabled:e.length<1||t.length<1||w,variantcolor:"teal",variant:"solid",children:"Postear"})})]})};var g=t(9712),v=t(6137),b=t(4418),N=t(1689),y=t(8911),w=t(9583);let S=()=>{let[e,s]=(0,l.useState)([]),{user:t}=(0,h.Z)(),o=(0,i.p)(),c=()=>{if(!t){s([]);return}let e=(0,j.IO)((0,j.hJ)(m.db,"posts"),(0,j.ar)("user","==",t.uid));(0,j.cf)(e,e=>{let t=[];e.docs.forEach(e=>{t.push({id:e.id,...e.data()})}),s(t)})};(0,l.useEffect)(()=>{c()},[t]);let d=async e=>{confirm("\xbfSeguro que desea eliminar nota?")&&((0,a.deletepost)(e),o({title:"Nota borrada",status:"success"}))};return(0,r.jsx)(n.xu,{mt:5,children:(0,r.jsx)(v.M,{columns:{base:1,md:1},spacing:8,children:e&&e.map(e=>(0,r.jsxs)(n.xu,{p:3,boxShadow:"2xl",shadow:"dark-lg",transition:"0.2s",_hover:{boxShadow:"sm"},children:[(0,r.jsxs)(b.X,{as:"h3",fontSize:"xl",children:[e.titulo,"",(0,r.jsx)(N.C,{color:"red.500",bg:"inherit",transition:"0.2s",_hover:{bg:"inherit",transform:"scale(1.2)"},float:"right",size:"xs",onClick:()=>d(e.id),children:(0,r.jsx)(w.Xm5,{})}),(0,r.jsx)(N.C,{color:"green.500"==e.categoria,bg:"inherit",transition:"0.2s",_hover:{bg:"inherit",transform:"scale(1.2)"},float:"right",size:"xs",onClick:()=>handleToggle(e.id,e.categoria)}),(0,r.jsx)(N.C,{float:"right",opacity:"0.8",children:e.categoria})]}),(0,r.jsx)(y.x,{children:e.descripcion})]},e.id))})})};var _=t(1163),C=t(9352);let k=()=>{let{push:e}=(0,_.useRouter)(),{isLoggedIn:s,user:t}=(0,h.Z)(),[a,i]=(0,l.useState)(!1),n=()=>{a?i(!1):i(!0)};return s?(0,r.jsxs)(g.Z,{children:[(0,r.jsx)("div",{className:"ilButton flex items-center justify-start gap-0 cursor-pointer absolute left-0 z-20",onClick:e=>n(),children:a?(0,r.jsx)(w.H_v,{size:30}):(0,r.jsx)(w._HU,{size:30})}),(0,r.jsxs)("div",{className:"head grid grid-cols-3 justify-center gap-2 transition-all delay-500 ease-in-out absolute left-0 ".concat(a?"w-0 opacity-0":"w-full opacity-1"),children:[(0,r.jsxs)("div",{className:"hover:text-gray-500 transition-all delay-50 flex items-center md:justify-center gap-2 sm:justify-start cursor-pointer",children:[(0,r.jsx)(C.vV,{className:"md:text-4xl text-2xl"}),(0,r.jsx)("span",{className:"md:text-md sm:text-sm",children:"Nuevo"})]}),(0,r.jsxs)("div",{className:"hover:text-gray-500 transition-all delay-50 flex items-center md:justify-center gap-2 sm:justify-start cursor-pointer",children:[(0,r.jsx)(C.JXj,{className:"md:text-4xl text-2xl"}),(0,r.jsx)("span",{className:"md:text-md sm:text-sm",children:"Listado"})]}),(0,r.jsxs)("div",{className:"hover:text-gray-500 transition-all delay-50 flex items-center md:justify-center gap-2 sm:justify-start cursor-pointer",children:[(0,r.jsx)(C.Fyy,{className:"md:text-4xl text-2xl"}),(0,r.jsx)("span",{className:"md:text-md sm:text-sm",children:"Mis posts"})]})]}),(0,r.jsxs)("div",{className:"content",children:[(0,r.jsxs)("div",{className:"w-auto pt-10",children:[(0,r.jsx)("h1",{className:"pl-4 text-lg font-bold border-b border-gray-300",children:"Nuevo post"}),(0,r.jsx)(p,{})]}),(0,r.jsxs)("div",{className:"w-auto pt-10",children:[(0,r.jsx)("h1",{className:"pl-4 text-lg font-bold border-b border-gray-300",children:"Posts"}),(0,r.jsx)(S,{autor:""})]}),(0,r.jsx)("div",{className:"w-auto pt-10",children:(0,r.jsx)("h1",{className:"pl-4 text-lg font-bold border-b border-gray-300",children:"Mis posts"})})]})]}):(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:"Acceso no autorizado"})};var z=k}},function(e){e.O(0,[445,16,278,937,945,603,809,774,888,179],function(){return e(e.s=8282)}),_N_E=e.O()}]);